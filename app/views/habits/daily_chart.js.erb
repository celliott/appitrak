<% if @has_date %>
  $('#habit_chart_content').html("<%= j render(:partial => 'daily_chart') %>");
<% else %>
  $('#habit_chart_content').html("<%= j render(:partial => 'no_date') %>");
<% end %>

<% if @no_data %>
  $('#habit_chart_content').html("<%= j render(:partial => 'no_data') %>");  
<% end %>
  
$(document).ready(function() {
<% if @has_range %>
		Morris.Line({
		  element: 'habit_chart',
		  data: $('#habit_chart').data('habits'),
		  xkey: 'd',
		  ykeys: ['h3', 'h230', 'h1'],
		  xLabelFormat: function(d) {
        return (d.getMonth()+1)+'/'+d.getDate(); 
      },
		  labels: ['drink','candy','smoke'],	
		  xLabel: 'day',	  
	  });
		<% else %>	
  Morris.Bar({
	  element: 'habit_chart',
	  data: $('#habit_chart').data('habits'),
	  xkey: 'h',
	  ykeys: ['c'],
	  labels: ['total'],
	  barColors: ['#B8B8B8'],
	  hideHover: 'always'
	});

<% end %>	
//alert($('#habit_chart').data('habits'));	
});